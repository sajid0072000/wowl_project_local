<main role="main" class="pb-3">


    <div class="row">
        <div class="col-md-12">
            <div class="top_scne">
                <div class="top_scne_in">
                    <h1 class="add_heading_text">Subscription</h1>
                    <button class="btn btn-edtng" *ngIf="!subscriptionid">Creating</button>
                    <button class="btn btn-edtng" *ngIf="subscriptionid">Editing</button>
                </div>
            </div>

        </div>
    </div>



    <div class="main-content">
        <div class="main-content-inner">
            <div class="row">
            <div class="mb-3 col-md-6">
                <label class="form-label lebel-text">Plan Name:</label>
                <input type="text" class="form-control input-text" [(ngModel)]="planname"
                    (keyup)="changePlanName()">
                <span class="error-msg" *ngIf="plannameErr">Plan name required</span>
            </div>

            <div class="mb-3 col-md-6">
                <label class="form-label lebel-text">Amount:</label>
                <input type="text" class="form-control input-text" [(ngModel)]="amount"
                    (keyup)="changeAmount()">
                <span class="error-msg" *ngIf="amountErr">Amount required</span>
            </div>

            <div class="mb-3 col-md-6">
                <label for="" class="form-label lebel-text">Plan type: </label>
                <div class="example-form">
                    <select class="form-select input-text" [(ngModel)]="plantype" (change)="changeType()">
                        <option value="">Select</option>
                        <option value="yearly">Yearly</option>
                        <option value="monthly">Monthly</option>
                        <option value="quaterly">Quaterly</option>
                    </select>

                    <span class="error-msg" *ngIf="plantypeErr">Plan type required</span>
                </div>
            </div>

            <div class="mb-3 col-md-6">
                <label class="form-label lebel-text">Days</label>
                <input type="text" class="form-control input-text"
                    [(ngModel)]="days" (keyup)="changeDays()">
                <span class="error-msg" *ngIf="daysErr">Days required</span>
            </div>

            <div class="col-sm-6 mb-3">
                <mat-checkbox [(ngModel)]="isactive">Active</mat-checkbox>
            </div>




        </div>


    </div>

    <div class="bottom-secne" style="text-align: center;">
        <button class="delete-button btn btn-primary" *ngIf="subscriptionid"
            (click)="onClickDelete(subscriptionid)">Delete Subscription</button>
        <div *ngIf="!subscriptionid"></div>
        <div>
            <button class="cancel-button btn btn-primary" (click)="resetForm()">Cancel</button>
            <button class="submit-button btn btn-primary" *ngIf="!subscriptionid" (click)="add()">Save</button>
            <button class="submit-button btn btn-primary " *ngIf="subscriptionid" (click)="edit()">Save</button>
        </div>

    </div>
    </div>
</main>

<ng-template #deleteModal>
    <div class="modal-content">
        <div class="modal-header">
            <div class="container-fluid">
                <div class="row align-items-center">
                    <div class="col-sm-10">
                        <h4 class="modal-title d-inline-block align-middle me-2">
                            Are you want to sure delete this subscription?
                        </h4>
                    </div>
                    <div class="col-sm-2 d-flex justify-content-end">
                        <button type="button" (click)="closeModal()" class="btn-close"></button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-body">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-6 text-center">
                        <button type="button" class="btn btn-secondary btn-lg me-2" (click)="closeModal()">No</button>
                    </div>
                    <div class="col-sm-6 text-center">
                        <button type="button" class="btn btn-primary btn-lg me-2" (click)="delete()">Yes</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>